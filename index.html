<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">Jorge Tall√≥ - Product & Sales Leader</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: 
                radial-gradient(ellipse at center, #2d1b69 0%, #0f0f23 70%),
                repeating-linear-gradient(
                    0deg,
                    transparent,
                    transparent 2px,
                    rgba(255, 0, 255, 0.03) 2px,
                    rgba(255, 0, 255, 0.03) 4px
                );
            color: #00ff00;
            font-family: 'Orbitron', monospace;
            overflow-x: hidden;
            min-height: 100vh;
        }

        .scanlines {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                0deg,
                transparent,
                transparent 2px,
                rgba(0, 255, 0, 0.03) 2px,
                rgba(0, 255, 0, 0.03) 4px
            );
            pointer-events: none;
            z-index: 1000;
            animation: scanlineMove 0.1s linear infinite;
        }

        @keyframes scanlineMove {
            0% { transform: translateY(0px); }
            100% { transform: translateY(4px); }
        }

        .crt-effect {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(ellipse at center, transparent 0%, rgba(0, 0, 0, 0.3) 100%);
            pointer-events: none;
            z-index: 999;
        }

        .grid-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(0, 255, 0, 0.2) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 255, 0, 0.2) 1px, transparent 1px);
            background-size: 20px 20px;
            z-index: -2;
            animation: gridFlicker 2s ease-in-out infinite alternate;
        }

        @keyframes gridFlicker {
            0% { opacity: 0.3; }
            50% { opacity: 0.6; }
            100% { opacity: 0.3; }
        }

        .falling-blocks {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .tetris-block {
            position: absolute;
            width: 20px;
            height: 20px;
            opacity: 0.8;
            animation: fall 6s linear infinite;
            image-rendering: pixelated;
            box-shadow: 
                inset 2px 2px 0 rgba(255, 255, 255, 0.3),
                inset -2px -2px 0 rgba(0, 0, 0, 0.5);
        }

        @keyframes fall {
            0% { transform: translateY(-50px); opacity: 0.8; }
            100% { transform: translateY(calc(100vh + 50px)); opacity: 0; }
        }

        .block-i { background: #00ffff; }
        .block-o { background: #ffff00; }
        .block-t { background: #ff00ff; }
        .block-s { background: #00ff00; }
        .block-z { background: #ff0000; }
        .block-j { background: #0080ff; }
        .block-l { background: #ff8000; }

        header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: linear-gradient(180deg, #000000 0%, #1a0033 100%);
            border-bottom: 3px solid #00ff00;
            border-top: 3px solid #ff00ff;
            z-index: 998;
            padding: 1rem 2rem;
            font-family: 'Press Start 2P', monospace;
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.5);
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }

        .logo {
            font-size: 1.2rem;
            color: #ffff00;
            text-shadow: 
                2px 2px 0 #ff0000,
                0 0 10px #ffff00;
            animation: logoFlash 3s ease-in-out infinite;
        }

        @keyframes logoFlash {
            0%, 90%, 100% { color: #ffff00; }
            5%, 85% { color: #ff00ff; }
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
            font-size: 0.7rem;
        }

        .nav-links a {
            color: #00ff00;
            text-decoration: none;
            transition: all 0.2s ease;
            padding: 0.5rem 1rem;
            border: 2px solid transparent;
            text-transform: uppercase;
        }

        .nav-links a:hover {
            border: 2px solid #00ff00;
            background: rgba(0, 255, 0, 0.1);
            color: #ffff00;
            text-shadow: 0 0 10px #00ff00;
        }

        main {
            margin-top: 100px;
            padding: 2rem;
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
        }

        .hero {
            text-align: center;
            padding: 4rem 0;
            margin-bottom: 4rem;
            background: 
                linear-gradient(45deg, rgba(255, 0, 255, 0.1), rgba(0, 255, 255, 0.1)),
                repeating-linear-gradient(
                    45deg,
                    transparent,
                    transparent 10px,
                    rgba(0, 255, 0, 0.05) 10px,
                    rgba(0, 255, 0, 0.05) 20px
                );
            border: 3px solid #ff00ff;
            border-radius: 0;
        }

        .hero h1 {
            font-family: 'Press Start 2P', monospace;
            font-size: 3rem;
            margin-bottom: 2rem;
            color: #ff00ff;
            text-shadow: 
                3px 3px 0 #00ffff,
                6px 6px 0 #ffff00,
                0 0 30px #ff00ff;
            animation: titlePulse 2s ease-in-out infinite alternate;
            letter-spacing: 3px;
        }

        @keyframes titlePulse {
            from { 
                transform: scale(1);
                filter: hue-rotate(0deg);
            }
            to { 
                transform: scale(1.02);
                filter: hue-rotate(20deg);
            }
        }

        .hero .subtitle {
            font-size: 1rem;
            margin-bottom: 1rem;
            color: #00ffff;
            font-family: 'Press Start 2P', monospace;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .hero .description {
            font-size: 0.9rem;
            margin-bottom: 2rem;
            color: #00ff00;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.8;
        }

        .cta-button {
            display: inline-block;
            padding: 1.5rem 3rem;
            background: linear-gradient(45deg, #ff0000, #ff00ff);
            color: #ffffff;
            text-decoration: none;
            font-weight: bold;
            font-size: 0.8rem;
            font-family: 'Press Start 2P', monospace;
            text-transform: uppercase;
            letter-spacing: 1px;
            border: 3px solid #ffff00;
            transition: all 0.3s ease;
            animation: buttonBlink 1.5s infinite;
        }

        @keyframes buttonBlink {
            0%, 50% { box-shadow: 0 0 20px rgba(255, 255, 0, 0.8); }
            51%, 100% { box-shadow: 0 0 40px rgba(255, 0, 255, 0.8); }
        }

        .cta-button:hover {
            transform: scale(1.1);
            background: linear-gradient(45deg, #ff00ff, #00ffff);
        }

        .tetris-sections {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 3rem;
            margin: 4rem 0;
        }

        .tetris-card {
            background: 
                linear-gradient(135deg, rgba(0, 0, 0, 0.8), rgba(26, 0, 51, 0.8)),
                repeating-linear-gradient(
                    90deg,
                    transparent,
                    transparent 4px,
                    rgba(0, 255, 0, 0.1) 4px,
                    rgba(0, 255, 0, 0.1) 8px
                );
            border: 3px solid #00ff00;
            padding: 2rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .tetris-card::before {
            content: '';
            position: absolute;
            top: -3px;
            left: -3px;
            right: -3px;
            bottom: -3px;
            background: linear-gradient(45deg, #ff00ff, #00ffff, #ffff00, #ff0000);
            z-index: -1;
            animation: borderFlash 2s linear infinite;
        }

        @keyframes borderFlash {
            0% { opacity: 0; }
            50% { opacity: 1; }
            100% { opacity: 0; }
        }

        .tetris-card:hover {
            transform: translateY(-5px);
            box-shadow: 
                0 10px 30px rgba(0, 255, 0, 0.3),
                inset 0 0 20px rgba(255, 0, 255, 0.1);
            border-color: #ff00ff;
        }

        .tetris-card h3 {
            color: #ffff00;
            font-size: 1.2rem;
            margin-bottom: 1.5rem;
            font-family: 'Press Start 2P', monospace;
            text-shadow: 2px 2px 0 #ff00ff;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .tetris-card p {
            line-height: 1.8;
            color: #00ffff;
            margin-bottom: 1.5rem;
            font-size: 0.9rem;
        }

        .skills-list {
            margin: 1rem 0;
        }

        .skills-list li {
            color: #00ff00;
            margin-bottom: 0.5rem;
            list-style: none;
            position: relative;
            padding-left: 1rem;
        }

        .skills-list li::before {
            content: '‚ñ∫';
            position: absolute;
            left: 0;
            color: #ff00ff;
        }

        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .tool-item {
            background: 
                linear-gradient(45deg, rgba(0, 255, 0, 0.2), rgba(255, 0, 255, 0.2));
            padding: 1rem;
            text-align: center;
            transition: all 0.3s ease;
            border: 2px solid #00ff00;
            font-family: 'Press Start 2P', monospace;
            font-size: 0.6rem;
        }

        .tool-item:hover {
            background: linear-gradient(45deg, rgba(255, 0, 255, 0.4), rgba(0, 255, 255, 0.4));
            transform: scale(1.05);
            border-color: #ff00ff;
            box-shadow: 0 0 15px rgba(255, 0, 255, 0.6);
        }

        .tool-item strong {
            display: block;
            margin-bottom: 0.5rem;
            color: #ffffff;
        }

        .tool-item small {
            color: #00ff00;
        }

        .project-item {
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid #ff00ff;
            border-radius: 0;
            padding: 1rem;
            margin: 1rem 0;
        }

        .project-title {
            color: #ffff00;
            font-weight: bold;
            margin-bottom: 0.5rem;
            font-family: 'Press Start 2P', monospace;
            font-size: 0.8rem;
        }

        .project-description {
            color: #00ff00;
            font-size: 0.7rem;
            margin-bottom: 1rem;
        }

        .project-link {
            display: inline-block;
            margin-top: 1rem;
            padding: 0.8rem 1.5rem;
            background: linear-gradient(45deg, rgba(255, 0, 0, 0.3), rgba(255, 0, 255, 0.3));
            color: #ffff00;
            text-decoration: none;
            border: 2px solid #ff0000;
            font-family: 'Press Start 2P', monospace;
            font-size: 0.6rem;
            text-transform: uppercase;
            transition: all 0.3s ease;
        }

        .project-link:hover {
            background: linear-gradient(45deg, rgba(255, 0, 255, 0.5), rgba(0, 255, 255, 0.5));
            border-color: #00ffff;
            transform: scale(1.05);
        }

        .blog-post {
            background: rgba(0, 0, 0, 0.3);
            border-left: 4px solid #00ff00;
            padding: 1rem;
            margin: 1rem 0;
        }

        .blog-title {
            color: #ffffff;
            font-weight: bold;
            margin-bottom: 0.5rem;
            font-size: 0.8rem;
        }

        .blog-meta {
            color: #ff00ff;
            font-size: 0.6rem;
            margin-bottom: 0.5rem;
            font-family: 'Press Start 2P', monospace;
        }

        .blog-excerpt {
            color: #00ffff;
            font-size: 0.7rem;
        }

        .contact-section {
            text-align: center;
            padding: 4rem 2rem;
            background: 
                linear-gradient(135deg, rgba(0, 0, 0, 0.9), rgba(51, 0, 102, 0.9)),
                repeating-linear-gradient(
                    45deg,
                    rgba(255, 0, 255, 0.1),
                    rgba(255, 0, 255, 0.1) 10px,
                    transparent 10px,
                    transparent 20px
                );
            margin: 4rem 0;
            border: 4px solid #ff00ff;
            position: relative;
        }

        .contact-section h2 {
            font-family: 'Press Start 2P', monospace;
            font-size: 2rem;
            margin-bottom: 2rem;
            color: #00ff00;
            text-shadow: 3px 3px 0 #ff00ff;
            animation: contactFlash 1s infinite alternate;
        }

        @keyframes contactFlash {
            from { color: #00ff00; }
            to { color: #ffff00; }
        }

        .contact-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-top: 2rem;
            flex-wrap: wrap;
        }

        .contact-link {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            padding: 1.2rem 2rem;
            background: linear-gradient(45deg, rgba(255, 0, 0, 0.3), rgba(0, 255, 255, 0.3));
            color: #ffffff;
            text-decoration: none;
            border: 3px solid #00ffff;
            font-family: 'Press Start 2P', monospace;
            font-size: 0.7rem;
            text-transform: uppercase;
            transition: all 0.3s ease;
        }

        .contact-link:hover {
            transform: scale(1.1);
            background: linear-gradient(45deg, rgba(255, 0, 255, 0.5), rgba(255, 255, 0, 0.5));
            border-color: #ff00ff;
            box-shadow: 0 0 25px rgba(255, 0, 255, 0.7);
        }

        .arcade-frame {
            position: fixed;
            top: 120px;
            right: 20px;
            background: 
                linear-gradient(135deg, #000000, #330066),
                repeating-linear-gradient(
                    0deg,
                    transparent,
                    transparent 2px,
                    rgba(0, 255, 0, 0.1) 2px,
                    rgba(0, 255, 0, 0.1) 4px
                );
            padding: 1.5rem;
            border: 4px solid #ff00ff;
            font-family: 'Press Start 2P', monospace;
            box-shadow: 
                0 0 20px rgba(255, 0, 255, 0.5),
                inset 0 0 10px rgba(0, 0, 0, 0.8);
        }

        .arcade-frame h4 {
            color: #ffff00;
            margin-bottom: 1rem;
            text-align: center;
            font-size: 0.7rem;
        }

        .score {
            font-size: 1.5rem;
            color: #00ff00;
            text-align: center;
            animation: scoreFlicker 0.5s infinite alternate;
        }

        @keyframes scoreFlicker {
            from { text-shadow: 0 0 10px #00ff00; }
            to { text-shadow: 0 0 20px #00ff00, 0 0 30px #00ff00; }
        }

        .level-info {
            color: #00ffff;
            font-size: 0.5rem;
            margin-top: 1rem;
            text-align: center;
        }

        .mobile-nav {
            display: none;
        }

        .loading {
            color: #ff00ff;
            text-align: center;
            font-family: 'Press Start 2P', monospace;
            padding: 2rem;
        }

        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }
            
            .mobile-nav {
                display: block;
                background: none;
                border: 2px solid #00ff00;
                color: #00ff00;
                font-size: 1rem;
                font-family: 'Press Start 2P', monospace;
                padding: 0.5rem;
                cursor: pointer;
            }
            
            .hero h1 {
                font-size: 1.5rem;
            }
            
            .tetris-sections {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
            
            .contact-links {
                flex-direction: column;
                align-items: center;
            }
            
            .arcade-frame {
                position: relative;
                top: auto;
                right: auto;
                margin: 2rem auto;
                width: fit-content;
            }
            
            .contact-section h2 {
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <div class="scanlines"></div>
    <div class="crt-effect"></div>
    <div class="grid-background"></div>
    <div class="falling-blocks" id="fallingBlocks"></div>

    <div class="loading" id="loading">LOADING CONTENT.JSON...</div>

    <header style="display: none;" id="header">
        <nav>
            <div class="logo" id="logo">JORGE.EXE v0.2</div>
            <ul class="nav-links" id="nav-links">
                <!-- Navigation will be populated from JSON -->
            </ul>
            <button class="mobile-nav">MENU</button>
        </nav>
    </header>

    <main style="display: none;" id="main">
        <section class="hero">
            <div class="subtitle" id="hero-subtitle">LOADING PLAYER...</div>
            <h1 class="glitch" id="hero-name">JORGE TALL√ì</h1>
            <div class="description" id="hero-description">
                <!-- Content loaded from JSON -->
            </div>
            <a href="#contact" class="cta-button" id="hero-cta">INSERT COIN</a>
        </section>

        <div class="arcade-frame">
            <h4>HIGH SCORE</h4>
            <div class="score" id="score">999,999</div>
            <div class="level-info">
                LEVEL: ‚àû<br>
                LIVES: ‚àû<br>
                STATUS: READY
            </div>
        </div>

        <div class="tetris-sections" id="content-sections">
            <!-- Content cards will be populated from JSON -->
        </div>

        <section class="contact-section" id="contact">
            <h2 id="contact-title">CONTINUE? Y/N</h2>
            <p style="font-size: 1rem; margin-bottom: 2rem; color: #00ffff; font-family: 'Press Start 2P', monospace;" id="contact-subtitle">
                READY TO START CO-OP MODE?
            </p>
            
            <div class="contact-links" id="contact-links">
                <!-- Contact links will be populated from JSON -->
            </div>
        </section>
    </main>

    <script>
        // Default content structure (fallback)
        const defaultContent = {
            "meta": {
                "title": "Jorge Tall√≥ - Product & Sales Leader",
                "version": "v0.2"
            },
            "hero": {
                "subtitle": "LOADING PLAYER...",
                "name": "JORGE TALL√ì",
                "description": "LEVEL 99 PRODUCT & SALES STRATEGIST<br>SPECIALIZING IN HIGH-SCORE REVENUE GENERATION<br>READY FOR NEXT BOSS BATTLE",
                "cta": "INSERT COIN"
            },
            "navigation": [
                {"label": "ABOUT", "href": "#about"},
                {"label": "PROJECTS", "href": "#projects"},
                {"label": "TOOLS", "href": "#tools"},
                {"label": "THOUGHTS", "href": "#thoughts"},
                {"label": "CONTACT", "href": "#contact"}
            ],
            "sections": {
                "about": {
                    "icon": "üéÆ",
                    "title": "PLAYER.STATS",
                    "content": "Elite player specializing in Product Strategy and Sales Mastery. Currently seeking new challenges at legendary companies pushing the boundaries of technology.",
                    "skills": [
                        "Product Strategy & Go-to-Market",
                        "Revenue Optimization & Team Leadership", 
                        "Technical Sales & Customer Success",
                        "B2B SaaS & Enterprise Solutions"
                    ],
                    "achievement": "Achievement Unlocked: \"Bridge Builder\" - Successfully connecting complex tech with market demands since 2015."
                },
                "projects": {
                    "icon": "üïπÔ∏è",
                    "title": "GAME.LIBRARY", 
                    "content": "Portfolio of completed levels demonstrating mastery across multiple game genres (business domains).",
                    "items": [
                        {
                            "title": "üéØ SALESFORCE OPTIMIZER",
                            "description": "AI-Powered Pipeline Manager",
                            "link": "#",
                            "linkText": "‚Üí VIEW CODE"
                        },
                        {
                            "title": "üìä MARKET INTEL DASH", 
                            "description": "Real-time Competitive Analysis",
                            "link": "#",
                            "linkText": "‚Üí PLAY DEMO"
                        },
                        {
                            "title": "ü§ñ PMF CALCULATOR",
                            "description": "Product-Market Fit Assessment", 
                            "link": "#",
                            "linkText": "‚Üí TRY NOW"
                        }
                    ]
                },
                "tools": {
                    "icon": "‚öôÔ∏è",
                    "title": "TECH.ARSENAL",
                    "content": "Professional equipment optimized for maximum performance in modern business battlegrounds.",
                    "items": [
                        {"name": "GITHUB", "category": "VERSION CTRL"},
                        {"name": "VERCEL", "category": "DEPLOYMENT"}, 
                        {"name": "VS CODE", "category": "DEV ENGINE"},
                        {"name": "FIGMA", "category": "DESIGN LAB"},
                        {"name": "NOTION", "category": "STRATEGY HQ"},
                        {"name": "SALESFORCE", "category": "CRM CORE"}
                    ]
                },
                "thoughts": {
                    "icon": "üíæ", 
                    "title": "BRAIN.DATA",
                    "content": "Archived thoughts and strategic insights on product development, sales optimization, and the future of human-AI collaboration.",
                    "posts": [
                        {
                            "title": "AI IN SALES: GAME CHANGER",
                            "date": "DEC 2024 ‚Ä¢ 8-BIT READ",
                            "excerpt": "How machine learning is reshaping customer acquisition patterns..."
                        },
                        {
                            "title": "PRODUCT-LED GROWTH UNLOCKED", 
                            "date": "NOV 2024 ‚Ä¢ BOSS LEVEL READ",
                            "excerpt": "Advanced strategies for building products that sell themselves..."
                        }
                    ],
                    "allPostsLink": "#",
                    "allPostsText": "‚Üí ACCESS ALL FILES"
                }
            },
            "contact": {
                "title": "CONTINUE? Y/N",
                "subtitle": "READY TO START CO-OP MODE?",
                "links": [
                    {"icon": "üìß", "label": "EMAIL", "href": "mailto:jorge@example.com"},
                    {"icon": "üíº", "label": "LINKEDIN", "href": "https://linkedin.com/in/jorgetallo"},
                    {"icon": "üêô", "label": "GITHUB", "href": "https://github.com/jorgetallo"}, 
                    {"icon": "üìÑ", "label": "RESUME.PDF", "href": "#"}
                ]
            }
        };

        // Function to load content from JSON
        async function loadContent() {
            try {
                const response = await fetch('./content.json');
                const content = await response.json();
                return content;
            } catch (error) {
                console.log('Could not load content.json, using default content');
                return defaultContent;
            }
        }

        // Function to populate the page with content
        function populateContent(content) {
            // Update page title and meta
            document.title = content.meta.title;
            document.getElementById('page-title').textContent = content.meta.title;
            
            // Update logo
            document.getElementById('logo').textContent = `JORGE.EXE ${content.meta.version}`;

            // Update hero section
            document.getElementById('hero-subtitle').textContent = content.hero.subtitle;
            document.getElementById('hero-name').textContent = content.hero.name;
            document.getElementById('hero-description').innerHTML = content.hero.description;
            document.getElementById('hero-cta').textContent = content.hero.cta;

            // Update navigation
            const navLinks = document.getElementById('nav-links');
            navLinks.innerHTML = '';
            content.navigation.forEach(item => {
                const li = document.createElement('li');
                const a = document.createElement('a');
                a.href = item.href;
                a.textContent = item.label;
                li.appendChild(a);
                navLinks.appendChild(li);
            });

            // Update content sections
            const sectionsContainer = document.getElementById('content-sections');
            sectionsContainer.innerHTML = '';

            Object.keys(content.sections).forEach(sectionKey => {
                const section = content.sections[sectionKey];
                const card = document.createElement('div');
                card.className = 'tetris-card';
                card.id = sectionKey;

                let cardHTML = `
                    <h3>${section.icon} ${section.title}</h3>
                    <p>${section.content}</p>
                `;

                // Add skills if present
                if (section.skills) {
                    cardHTML += '<p><strong>CORE ABILITIES:</strong></p><ul class="skills-list">';
                    section.skills.forEach(skill => {
                        cardHTML += `<li>${skill}</li>`;
                    });
                    cardHTML += '</ul>';
                }

                // Add achievement if present
                if (section.achievement) {
                    cardHTML += `<p>${section.achievement}</p>`;
                }

                // Add project items if present
                if (section.items && sectionKey === 'projects') {
                    section.items.forEach(item => {
                        cardHTML += `
                            <div class="project-item">
                                <div class="project-title">${item.title}</div>
                                <div class="project-description">${item.description}</div>
                                <a href="${item.link}" class="project-link">${item.linkText}</a>
                            </div>
                        `;
                    });
                }

                // Add tools grid if present
                if (section.items && sectionKey === 'tools') {
                    cardHTML += '<div class="tools-grid">';
                    section.items.forEach(tool => {
                        cardHTML += `
                            <div class="tool-item">
                                <strong>${tool.name}</strong>
                                <small>${tool.category}</small>
                            </div>
                        `;
                    });
                    cardHTML += '</div>';
                }

                // Add blog posts if present
                if (section.posts) {
                    section.posts.forEach(post => {
                        cardHTML += `
                            <div class="blog-post">
                                <div class="blog-title">${post.title}</div>
                                <div class="blog-meta">${post.date}</div>
                                <div class="blog-excerpt">${post.excerpt}</div>
                            </div>
                        `;
                    });
                    
                    if (section.allPostsLink) {
                        cardHTML += `<a href="${section.allPostsLink}" class="project-link">${section.allPostsText}</a>`;
                    }
                }

                card.innerHTML = cardHTML;
                sectionsContainer.appendChild(card);
            });

            // Update contact section
            document.getElementById('contact-title').textContent = content.contact.title;
            document.getElementById('contact-subtitle').textContent = content.contact.subtitle;

            const contactLinks = document.getElementById('contact-links');
            contactLinks.innerHTML = '';
            content.contact.links.forEach(link => {
                const a = document.createElement('a');
                a.href = link.href;
                a.className = 'contact-link';
                a.innerHTML = `<span>${link.icon}</span> <span>${link.label}</span>`;
                contactLinks.appendChild(a);
            });
        }

        // Retro block creation (same as before)
        const retroColors = ['block-i', 'block-o', 'block-t', 'block-s', 'block-z', 'block-j', 'block-l'];
        
        function createRetroBlock() {
            const block = document.createElement('div');
            block.className = `tetris-block ${retroColors[Math.floor(Math.random() * retroColors.length)]}`;
            block.style.left = Math.random() * window.innerWidth + 'px';
            block.style.animationDuration = (Math.random() * 4 + 4) + 's';
            block.style.animationDelay = Math.random() * 2 + 's';
            
            document.getElementById('fallingBlocks').appendChild(block);
            
            setTimeout(() => {
                if (block.parentNode) {
                    block.remove();
                }
            }, 8000);
        }

        setInterval(createRetroBlock, 600);

        // Score animation
        let score = 0;
        const targetScore = 999999;
        const scoreElement = document.getElementById('score');
        
        function animateRetroScore() {
            if (score < targetScore) {
                const increments = [100, 200, 300, 500, 1000, 2000];
                score += increments[Math.floor(Math.random() * increments.length)];
                if (score > targetScore) score = targetScore;
                scoreElement.textContent = score.toLocaleString();
            }
        }

        setInterval(animateRetroScore, 200);

        // Smooth scrolling
        function setupSmoothScrolling() {
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
        }

        // Initialize the page
        async function init() {
            const content = await loadContent();
            populateContent(content);
            
            // Hide loading and show content
            document.getElementById('loading').style.display = 'none';
            document.getElementById('header').style.display = 'block';
            document.getElementById('main').style.display = 'block';
            
            // Setup smooth scrolling after content is loaded
            setupSmoothScrolling();
            
            // Initialize with some blocks
            for (let i = 0; i < 8; i++) {
                setTimeout(createRetroBlock, i * 150);
            }
        }

        // Screen effects
        document.addEventListener('mousemove', (e) => {
            if (Math.random() < 0.001) {
                document.body.style.filter = 'hue-rotate(' + Math.random() * 360 + 'deg)';
                setTimeout(() => {
                    document.body.style.filter = 'none';
                }, 50);
            }
        });

        setInterval(() => {
            if (Math.random() < 0.002) {
                document.body.style.filter = 'brightness(1.2) contrast(1.1)';
                setTimeout(() => {
                    document.body.style.filter = 'none';
                }, 30);
            }
        }, 100);

        // Start the app
        init();
    </script>
</body>
</html>
